{% extends "layout.html.twig" %}

{% block head %}
{{ parent() }} 
{% endblock %}

{% block bootstrap %}
{{ parent() }} 
{% endblock %}

{% block fontawesome %}
{{ parent() }} 
{% endblock %}

{% block css %}
    {{ parent() }} 
    <link rel="stylesheet" type="text/css" href="assets/style/user.css">
{% endblock %}


{% block title %}{{ parent() }} - hehe {% endblock %}

{% block body %}
    {% block main %}
        {{ parent() }} 
    {% endblock %}
    <main>
        <h1>Users</h1>

        <div class="filter">
            <div class="input-group mb-3">
                <input type="text" class="form-control" placeholder="username" aria-label="Recipient's username"
                    aria-describedby="button-addon2">
                <button class="btn btn-outline-secondary" type="button" id="button-addon2"><i
                        class="fas fa-search"></i></button>
            </div>

            <select class="form-select" aria-label="Default select example">
                <option selected value="ROLES_ADMIN">asc</option>
                <option value="ROLES_USER">desc</option>
            </select>
        </div>


        <form action="delete" method="getx">
        
        <table class="table" >
            <thead>
                <tr >
                    <th scope="col">#ID</th>
                    <th scope="col">userName</th>
                    <th scope="col">firstName</th>
                    <th scope="col">lastName</th>
                    <th scope="col">email</th>
                    <th scope="col">Roles</th>
                </tr>
            </thead>
            
            <tbody>
                    {% for user in users %}
                        <tr class="dataUser" data-bs-toggle="modal" data-bs-target="#exampleModal" onclick="getInfo(this)">
                            <th scope="row">{{user.id_user}} </th>
                            <td name="username">{{user.username}}</td>
                            <td>{{user.firstName}}</td>
                            <td>{{user.lastName}}</td>
                            <td>{{user.mail}}</td>
                            <td>{{user.roles}}</td>
                         </tr>
                    {% endfor %}
            </tbody>
        </table>
        
        </form>
    </main>

    <!-- Modal -->
    <div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Modal title</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                </div>
                <form id="formTest" method="post" action="users">

                    <div class="modal-body">
                    <input type="hidden" name="id_user" value="5">
                    <label for="inputPassword5" class="form-label">user name</label>
                    <input type="text" id="inputPassword5" class="form-control"
                        aria-describedby="passwordHelpBlock" name="username">

                    <label for="inputPassword5" class="form-label" >first name</label>
                    <input type="text" id="inputPassword5" class="form-control"
                        aria-describedby="passwordHelpBlock" name="firstName">

                    <label for="inputPassword5" class="form-label">last name</label>
                    <input type="text" id="inputPassword5" class="form-control"
                        aria-describedby="passwordHelpBlock" name="lastName">

                    <label for="inputPassword5" class="form-label">email</label>
                    <input type="text" id="inputPassword5" class="form-control"
                        aria-describedby="passwordHelpBlock" name="email">

                    <label for="inputPassword5" class="form-label">Roles</label>
                    <select class="form-select" aria-label="Default select example">
                        <option selected value="ROLES_ADMIN">ROLES_ADMIN</option>
                        <option value="ROLES_USER">ROLES_USER</option>
                    </select>

                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary" name="update">Save changes</button>
                    <button type="submit" class="btn btn-danger" data-bs-dismiss="modal" name="delete">Delete</button>
                </div>
                </form>

            </div>
        </div>
    </div>
    <script type="text/javascript" src="assets/script/script.js"></script>
  
{% endblock %}
